{% extends "base.html" %}
{% block title %}Registrar compra{% endblock %}
{% block header %}<h1>Registrar nueva compra</h1>{% endblock %}

{% block content %}
<form method="post" class="form-container">
  <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
  <div class="form-group">
    <label for="product_id">Producto</label>
    <select name="product_id" id="product_id" required>
      <option value="">-- Seleccionar producto --</option>
      {% for p in productos %}
        <option value="{{ p.id }}">{{ p.name }}</option>
      {% endfor %}
    </select>
  </div>

  <div class="form-group">
    <label for="quantity">Cantidad</label>
    <input type="number" name="quantity" id="quantity" min="1" required>
  </div>

  <div class="form-group">
    <label for="unit_price">Precio unitario</label>
    <input type="number" name="unit_price" id="unit_price" min="0" step="0.01" required>
  </div>

  <div class="form-actions">
    <button type="submit" class="btn btn-primary">Registrar compra</button>
    <a href="{{ url_for('shopping.list') }}" class="btn btn-secondary">Cancelar</a>
  </div>
</form>
{% endblock %}
