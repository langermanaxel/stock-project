{% extends 'base.html' %}

{% block title %}
  {% if mode == 'edit' %}Editar producto{% else %}Nuevo producto{% endif %}
{% endblock %}

{% block header %}
  <h1>
    {% if mode == 'edit' %}Editar producto{% else %}Nuevo producto{% endif %}
  </h1>
{% endblock %}

{% block content %}
  <form method="post" class="form-container">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <div class="form-group">
      <label for="name">Nombre del producto</label>
      <input type="text" name="name" id="name" required
             value="{{ producto['name'] if producto else '' }}">
    </div>

    <div class="form-group">
      <label for="category">Categor√≠a</label>
      <input type="text" name="category" id="category"
             value="{{ producto['category'] if producto else '' }}">
    </div>

    <div class="form-group">
      <label for="current_stock">Stock actual</label>
      <input type="number" min="0" name="current_stock" id="current_stock"
             value="{{ producto['current_stock'] if producto else 0 }}">
    </div>

    <div class="form-group">
      <label for="purchase_price">Precio de compra</label>
      <input type="number" step="0.01" min="0" name="purchase_price" id="purchase_price"
             value="{{ producto['purchase_price'] if producto else '' }}">
    </div>

    <div class="form-group">
      <label for="sale_price">Precio de venta</label>
      <input type="number" step="0.01" min="0" name="sale_price" id="sale_price"
             value="{{ producto['sale_price'] if producto else '' }}">
    </div>

    <div class="form-actions">
      <button type="submit" class="btn btn-primary">
        {% if mode == 'edit' %}Guardar cambios{% else %}Crear producto{% endif %}
      </button>
      <a href="{{ url_for('stock.list') }}" class="btn btn-secondary">Cancelar</a>
    </div>
  </form>
{% endblock %}
